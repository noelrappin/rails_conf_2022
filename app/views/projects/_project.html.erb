<div id="<%= dom_id project %>">
  <div class="font-bold text-2xl text-center">
    <%= link_to(project.name, project) %>
  </div>

  <%= turbo_frame_tag("search_form", target: "project_body") do %>
    <%= form_with(
          url: cards_path,
          method: :get,
          html: {
            "data-controller": "autosubmit",
            "data-autosubmit-target": "form"
          }) do |f| %>
      <div class="flex justify-center content-center">
        <div class="w-4/5 mr-4">
          <%= hidden_field_tag(:project_id, project.id) %>
          <%= text_field_tag(
                "query",
                "",
                placeholder: "Search cards", type: "search",
                id: "search_query",
                autocomplete: "off",
                autofocus: false,
                class: "w-full px-3 border border-gray-400 rounded-lg",
                "data-action": "input->autosubmit#typingStarted input->autosubmit#submit"
                ) %>
        </div>
        <div class="mr-4">
          <%= f.submit("Search", class: button_class) %>
        </div>
        <div>
          <%= link_to("Clear", project, class: button_class) %>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= turbo_frame_tag("project_body") do %>
    <div>
      <%= render(
            partial: "statuses/status",
            collection: Card::STATUSES.reverse,
            as: :status,
            locals: {project: project}
          ) %>
    </div>
  <% end %>


  <% if action_name != "show" %>
    <%= link_to("Show this project", project, class: button_class) %>
    <%= link_to("Edit this project", edit_project_path(project), class: button_class) %>
    <hr class="mt-6">
  <% end %>
</div>
